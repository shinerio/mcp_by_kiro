<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 编码解码工具</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Base64 编码解码工具</h1>
            <p>支持文本和文件的Base64编码解码操作</p>
        </header>
        
        <main>
            <div class="section encode-section">
                <h2>编码 (Text → Base64)</h2>
                <div class="input-group">
                    <label for="text-input">输入要编码的文本：</label>
                    <textarea id="text-input" placeholder="在此输入要编码的文本..."></textarea>
                    <div class="input-info">
                        <span id="text-char-count" class="char-count">0 字符</span>
                        <span class="input-hint">支持实时预览</span>
                    </div>
                </div>
                <div class="button-group">
                    <button id="encode-btn" class="btn btn-primary">编码</button>
                    <button id="clear-text-btn" class="btn btn-secondary">清空</button>
                </div>
                <div class="output-group">
                    <label for="encoded-output">编码结果：</label>
                    <textarea id="encoded-output" readonly></textarea>
                    <button id="copy-encoded" class="btn btn-copy">复制结果</button>
                </div>
            </div>
            
            <div class="section decode-section">
                <h2>解码 (Base64 → Text)</h2>
                <div class="input-group">
                    <label for="base64-input">输入要解码的Base64字符串：</label>
                    <textarea id="base64-input" placeholder="在此输入要解码的Base64字符串..."></textarea>
                    <div class="input-info">
                        <span id="base64-char-count" class="char-count">0 字符</span>
                        <span class="input-hint">自动验证格式</span>
                    </div>
                </div>
                <div class="button-group">
                    <button id="decode-btn" class="btn btn-primary">解码</button>
                    <button id="clear-base64-btn" class="btn btn-secondary">清空</button>
                </div>
                <div class="output-group">
                    <label for="decoded-output">解码结果：</label>
                    <textarea id="decoded-output" readonly></textarea>
                    <button id="copy-decoded" class="btn btn-copy">复制结果</button>
                </div>
            </div>
            
            <div class="section file-section">
                <h2>文件处理</h2>
                <div class="drag-drop-area" id="drag-drop-area">
                    <div class="drag-drop-content">
                        <div class="drag-drop-icon">📁</div>
                        <p class="drag-drop-text">拖拽文件到此处或点击选择文件</p>
                        <p class="drag-drop-hint">支持文本文件编码</p>
                        <input type="file" id="file-input" class="file-input-hidden">
                        <button class="btn btn-secondary btn-select-file">选择文件</button>
                    </div>
                </div>
                <div class="file-input-group">
                    <button id="encode-file" class="btn btn-primary">编码文件</button>
                    <span id="selected-file-name" class="selected-file-name"></span>
                </div>
                <div id="file-progress" class="progress-container hidden">
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                    <div id="progress-text" class="progress-text">处理中...</div>
                </div>
                <div class="file-output-group">
                    <textarea id="file-output" readonly placeholder="文件编码结果将显示在这里..."></textarea>
                    <div class="button-group">
                        <button id="copy-file-result" class="btn btn-copy">复制结果</button>
                        <button id="download-result" class="btn btn-download">下载结果</button>
                    </div>
                </div>
            </div>
            
            <div class="section help-section">
                <h2>使用说明和示例</h2>
                <div class="help-content">
                    <div class="help-item">
                        <h3>什么是Base64编码？</h3>
                        <p>Base64是一种基于64个可打印字符来表示二进制数据的编码方法。它常用于在文本协议中传输二进制数据，如电子邮件附件、网页中的图片数据等。</p>
                    </div>
                    
                    <div class="help-item">
                        <h3>编码示例</h3>
                        <div class="example">
                            <div class="example-input">
                                <strong>输入文本：</strong>
                                <code>Hello, World!</code>
                            </div>
                            <div class="example-output">
                                <strong>Base64编码结果：</strong>
                                <code>SGVsbG8sIFdvcmxkIQ==</code>
                            </div>
                            <button class="btn btn-secondary btn-small" onclick="loadExample('encode', 'Hello, World!')">试试这个例子</button>
                        </div>
                    </div>
                    
                    <div class="help-item">
                        <h3>解码示例</h3>
                        <div class="example">
                            <div class="example-input">
                                <strong>Base64字符串：</strong>
                                <code>5L2g5aW977yM5LiW55WM77yB</code>
                            </div>
                            <div class="example-output">
                                <strong>解码结果：</strong>
                                <code>你好，世界！</code>
                            </div>
                            <button class="btn btn-secondary btn-small" onclick="loadExample('decode', '5L2g5aW977yM5LiW55WM77yB')">试试这个例子</button>
                        </div>
                        
                        <div class="example">
                            <div class="example-input">
                                <strong>JSON数据编码：</strong>
                                <code>eyJuYW1lIjoi5byg5LiJIiwiYWdlIjoyNX0=</code>
                            </div>
                            <div class="example-output">
                                <strong>解码结果：</strong>
                                <code>{"name":"张三","age":25}</code>
                            </div>
                            <button class="btn btn-secondary btn-small" onclick="loadExample('decode', 'eyJuYW1lIjoi5byg5LiJIiwiYWdlIjoyNX0=')">试试这个例子</button>
                        </div>
                    </div>
                    
                    <div class="help-item">
                        <h3>使用技巧</h3>
                        <ul>
                            <li><strong>实时预览：</strong> 在输入框中输入内容时，结果会自动更新</li>
                            <li><strong>字符计数：</strong> 实时显示输入字符数，超过限制时会变色提醒</li>
                            <li><strong>文件处理：</strong> 支持拖拽文件到文件处理区域进行编码</li>
                            <li><strong>复制功能：</strong> 点击"复制结果"按钮一键复制到剪贴板</li>
                            <li><strong>错误提示：</strong> 输入无效的Base64字符串时会显示红色边框提示</li>
                            <li><strong>格式验证：</strong> 自动验证Base64字符串格式，提供即时反馈</li>
                        </ul>
                    </div>
                    
                    <div class="help-item">
                        <h3>键盘快捷键</h3>
                        <div class="shortcuts-grid">
                            <div class="shortcut-item">
                                <kbd>Ctrl</kbd> + <kbd>Enter</kbd>
                                <span>执行编码/解码操作</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Escape</kbd>
                                <span>清空当前输入区域</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Tab</kbd>
                                <span>在输入区域间切换</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Ctrl</kbd> + <kbd>A</kbd>
                                <span>全选文本内容</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="help-item">
                        <h3>常见用途</h3>
                        <ul>
                            <li>网页中嵌入小图片（Data URLs）</li>
                            <li>API接口中传输二进制数据</li>
                            <li>配置文件中存储加密信息</li>
                            <li>电子邮件附件编码</li>
                            <li>URL安全的数据传输</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
        
        <div id="notification" class="notification hidden"></div>
        
        <footer>
            <p>Base64 编码解码工具 - 基于MCP协议的AI代理服务</p>
            <p>支持文本编码解码、文件处理和实时预览功能</p>
        </footer>
    </div>
    
    <script src="app.js"></script>
</body>
</html>